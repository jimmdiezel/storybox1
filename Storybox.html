<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<head>

<title> Storybox </title>

<link rel="stylesheet" type="text/css" href="basiclayout1.css" />
<script src="http://yui.yahooapis.com/3.17.2/build/yui/yui-min.js"></script>

</head>

<body>

<div id="abyss">

<div id="space1">

<ul id="index">

<li id="ind1"><a>CHICKENNCHIPS</a></li>
<li id="ind2"><a>ALDO</a></li>
<li id="ind3"><a>FRANKWRIGHT</a></li>
<li id="ind4"><a>TEDTHEMOVIE</a></li>

</ul>

</div>

<div id="space2">

<div id="system">

<div id="sun">


<div id="loginbox">
</div>

<div id="logo">
<img src="RLogo.jpg" width=100% height=100% />
</div>

<div id="version">
<img src="BackgroundJPG2.jpg" width=100% height=100% />
</div>

</div> <!-- sun close -->

<div id="system2">

<div id="moon">


<div class="slate1" id="navSlate">

<div id="navbar">

<div id="navbar2">

<ul class="navbar" id="panSlate1">

<li class="navone" id="output"><a>OUTPUT</a></li>
<li id="input"><a>INPUT</a></li>
<li class="navend" id="system3"><a>SYSTEM</a></li>

</ul>




</div> <!-- navbar2 close -->

</div> <!-- navbar close -->

</div> <!-- slate1 close -->


<div class="rowTypeA" id="row1">

<div class="tabRight">
</div>

</div> <!-- rowTypeA close -->



<div class="slate1" id="panSlate">

<div class="panel1" id="pan1">

<div class="panel2">

<ul class="navbar" id="navSlate1">

<li class="navone" id="update"><a>UPDATE</a></li>
<li id="agents"><a>AGENTS</a></li>
<li id="cycles"><a>CYCLES</a></li>
<li id="networks"><a>NETWORKS</a></li>
<li id="comms"><a>COMMS</a></li>
<li id="archive"><a>ARCHIVE</a></li>
<li class="navend" id="admin"><a>ADMIN</a></li>

</ul>

<ul class="navbar" id="navSlate2">

</ul>

</div>

</div> <!-- panel1 close -->

<div class="window" id="win1">



</div> <!-- window close -->

<div class="underline1" id="underL1">

<div class="underline2">
</div>

</div> <!-- underline1 close -->

</div> <!-- slate1 close -->



</div> <!-- moon close -->

<div id="earth">

<div class="rowTypeA" id="row2">

<div class="tabRight">
</div>

</div> <!-- rowTypeA close -->



<div class="slate1" id="earSlate">

<div class="panel1" id="pan2">

<div class="panel2">


<ul class="navbar" id="panSlate2">

<li class="navone" id="target"><a>TARGET</a></li>
<li class="navend" id="dataType"><a>DATATYPE</a></li>

</ul>


</div>

</div> <!-- panel1 close -->

<div class="window" id="win2">


</div> <!-- window close -->

<div class="underline1" id="underL2">

<div class="underline2">
</div>

</div> <!-- underline1 close -->

</div> <!-- slate1 close -->

</div> <!-- earth close -->

<div id="ozone">

<div class="rowTypeA" id="endRow">

<div class="tabRight">
</div>

</div> <!-- rowTypeA close -->



<div class="slate1" id="endSlate">
</div>

<div id="endLeft">
</div>

<div id="endCanvas">
</div>

</div> <!-- ozone close -->

</div> <!-- system2 close -->

<div id="stars">

<div class="canvas" id="starCanvas">

<div id="starBar">
</div>

</div>

</div> <!-- stars close -->

</div> <!-- system close -->

</div> <!-- space2 close -->

<div id="space3">

<div class="canvas" id="sp3Canvas">



<div id="sp3Bar">

<div id ="button1">
</div>

<div id="button2">
</div>

</div>

</div>

</div> <!-- space3 close -->

</div> <!-- abyss close -->

<script language="Javascript">

YUI().use('node', 'event', 'event-mouseenter', 'event-hover', 'transition', function (gui) {

var spa1  = gui.one('#space1');
var spa2  = gui.one('#space2');
var spa3  = gui.one('#space3');
var abyss1 = gui.one('#abyss1');

var sp3Canvas = gui.one('#sp3Canvas');
var starCanvas = gui.one('#starCanvas');


var bodProp = gui.one('body');
var bodProp1 = bodProp.getStyle('width');
var bodProp2 = parseInt(bodProp1);

var window = gui.one('body').get('winWidth');
// var winWidth = window;

var winHeight = gui.one('body').get('winHeight');
winHeight = parseInt(winHeight);



span = [5, 22, 8];

function getWidth(target){

targetGeom = target.getStyle('width');
targetGeomm = parseInt(targetGeom);

return targetGeomm;

} //getWidth end

function getHeight(target){

targetGeom = target.getStyle('height');
targetGeomm = parseInt(targetGeom);

return targetGeomm;

} //getHeight end

function getRight(target){

targetGeom = target.getStyle('right');
targetGeomm = parseInt(targetGeom);

return targetGeomm;

} //getWidth end


function divider(widTotal, widCalc, widSelect){

var j = widCalc.length;
var k = 0;



for (l = 0; l < j; l++){
 
k += widCalc[l];

}


modulo = widTotal % k;
subTotal = widTotal - modulo;
factor = subTotal / k;

widFig = [];

for (m=0; m < j; m++){

widFig[m] = widCalc[m] * factor;

}

// spa3.setHTML(modulo + '.' + factor + '.' + subTotal);

widFig[widSelect] = widFig[widSelect] + modulo;

return widFig;

} //divider end

widProp = [];
widProp = divider(bodProp2, span, 1);
widProp[3] = widProp[1] - 1;

if (widProp[0] > 140){

spa1.setStyle('width', widProp[0] + 'px');
widAdj = widProp[0];
spa2.setStyle('left', widAdj + 'px');
spa2.setStyle('right', widProp[2] + 'px');
spa3.setStyle('width', widProp[2] + 'px');

}

else {

bodProp2 -= 25;
span2 = [22, 8];
widProp2 = divider(bodProp2, span2, 0);


spa1.setStyle('width', '25px');
spa2.setStyle('left', '29px');
spa2.setStyle('right', widProp2[1] + 'px'); // change from 'widProp[2]'
spa3.setStyle('width', widProp2[1] + 'px');

}


var navSlate2 = gui.one('#navSlate2');
var navSlate1 = gui.one('#navSlate1');
var navSlate = gui.one('#navSlate');
var pan1 = gui.one('pan1');
var panSlate = gui.one('#panSlate');
var panSlate1 = gui.one('#panSlate1');
var win1 = gui.one('#win1');

var update = gui.one('#update');
var agents = gui.one('#agents');
var cycles = gui.one('#cycles');
var networks = gui.one('#networks');
var comms = gui.one('#comms');
var archive = gui.one('#archive');
var admin = gui.one('#admin');

var navSlateObj = [update, agents, cycles, networks, comms, archive, admin];

function setup (set){

var setFig = [];
j = 0;

setNext = set.one('li');

while (setNext != undefined){

setFig[j] = setNext;
setNext = setFig[j].next();
j++

}



return setFig;

}

function extender (set, widTotal){

var setFig = [];

setLast = set.all('li').slice(-1).item(0);

setOne = set.one('li');

if (j > 0) {

setOnee = setOne.getStyle('width');
setFig[0] = setOne;
setNext = setOne.next();

l=1;

while (setNext != undefined){

setFig[l] = setNext;
setNext = setFig[l].next();
l++;

}

var setNum = setFig.length;

setTotal = 0;

for (j=0; j < setNum; j++){

var setAdd = setFig[j].getStyle('width');
var setAdd2 = parseInt(setAdd);
setTotal += setAdd2;

}

k = j + 1;

var widRem = widTotal - setTotal;


modulo = widRem % j;
subTotal = widRem - modulo;
factor = subTotal / j;

for (j=0; j < setNum; j++){

var setAdd = setFig[j].getStyle('width');
var setAdd2 = parseInt(setAdd);
var setAdd3 = setAdd2 + factor;

if (j < modulo){

setAdd3 += 1;

}

setFig[j].setStyle('width', setAdd3 +'px');

}


}

} // extender end

function extension (set, space, pad){

setFig = setup(set);
setNum = setFig.length;

widTotal = space.getStyle('width');
widTotall = parseInt (widTotal);

factorA = pad + 1;
factorB = factorA * setNum;
factorC = factorB + 4;

widTotall -= factorC;

return widTotall;


} // extension end

var loginbox = gui.one('#loginbox');
var logo = gui.one('#logo');
var version = gui.one('#version');
var sun = gui.one('#sun');
var system2 = gui.one('#system2');
var row1 = gui.one('#row1');
var underL1 = gui.one('#underL1');
var pan1 = gui.one('#pan1');
var win1 = gui.one('#win1');
var sp3Bar = gui.one('#sp3Bar');
var stars = gui.one('#stars');
var starBar = gui.one('#starBar');


function setTop (set, target, extra){

height = 0;
setAdd = 0;

for (j = 0; j < set.length; j++){

add = getHeight(set[j]);
setAdd += add;

}

setAdd += extra;

target.setStyle('top', setAdd + 'px');

}

function setHeight (set, target, extra){

height = 0;
setAdd = 0;

for (j = 0; j < set.length; j++){

add = getHeight(set[j]);
setAdd += add;

}

setAdd += extra;

target.setStyle('height', setAdd + 'px');

}

function setWidth (set, target, extra){

height = 0;
setAdd = 0;

for (j = 0; j < set.length; j++){

add = getWidth(set[j]);
setAdd += add;

}

setAdd += extra;

target.setStyle('width', setAdd + 'px');

}

function setLeft (set, target, extra){

height = 0;
setAdd = 0;

for (j = 0; j < set.length; j++){

add = getWidth(set[j]);
setAdd += add;

}

setAdd += extra;

target.setStyle('left', setAdd + 'px');

}


topObj = [];
topObj.logo = [loginbox];
setTop(topObj.logo, logo, 2);

topObj.version = [loginbox];
setTop(topObj.version, version, 2);

widObj = [];
heiObj = [];
heiObj.sun = [];
heiObj.sun[0] = loginbox;
heiObj.sun[1] = logo;
setHeight(heiObj.sun, sun, 1);

topObj.system2 = [sun];
setTop(topObj.system2, system2, 0);

var broadcast = gui.one('#broadcast');
var locater = gui.one('#locater');
var admin = gui.one('#admin');

function twoDeck (topDeck, bottomDeck, space){

sla1Width = 0;

for(j=0; j < 7; j++){
sla1Trans = getWidth(navSlateObj[j]);
sla1Width += sla1Trans;
}

w = 'width';

widBarr = getWidth(topDeck);
widSpace = getWidth(space);
widSpacee = widSpace - 45;

setFig = setup(topDeck);
setNum = setFig.length;
setNumm = setNum / 2;

var listTransF = function () {return topDeck.all('li').slice(-1).item(0)};

if (sla1Width > widSpacee){

sla2Num = 0;

while (sla2Num < 3){
sla2Trans = listTransF();
bottomDeck.prepend(sla2Trans);
sla2Num++;
}

nav1Heightt = getHeight(topDeck);
nav2Heightt = getHeight(bottomDeck);
totHeightt = nav1Heightt + nav2Heightt + 3;
space.setStyle('height', totHeightt + 'px');
comms.setStyle('border-left', '1px solid #ACACAC');
networks.setStyle('border-right', '1px solid #ACACAC');

}

else{

nav1Height = getHeight(topDeck);
totHeightt = nav1Height + 3;
space.setStyle('height', totHeightt + 'px');

}

} //twoDeck end








function navDropList(deck, space){

heiUpdate = getHeight(update);
widSpace2 = getWidth(space);

widSpace2 = widSpace2 - heiUpdate - 1;
deck.setStyle('width', widSpace2 + 'px');

widDrop = widSpace2 - 6;
widSet = setup(deck);
widNum = widSet.length; 

deck.replaceClass('navbar', 'dropBar');
update.setStyle('border-bottom', '1px solid #ACACAC');
admin.setStyle('border-bottom', '1px solid #ACACAC');

for (s = 0; s < widNum; s++){

widItem = widSet[s];
widItem.setStyle('width', widDrop + 'px');

}


for (t = 1; t < widNum; t++){

visItem = widSet[t];
visItem.setStyle('visibility', 'hidden');

}

}

nav1Width = getWidth(navSlate1);

if(nav1Width < 300){

navDropList(navSlate1, pan1);

}

else{

twoDeck(navSlate1, navSlate2, pan1);

navRem = extension(navSlate1, navSlate, 4);

extender(navSlate1, navRem);

navRem2 = extension(navSlate2, navSlate, 4);

extender(navSlate2, navRem2);

}


panRem = extension(panSlate1, panSlate, 4);
extender(panSlate1, panRem);

topObj.row1 = [];
topObj.row1[0] = navSlate;
setTop(topObj.row1, row1, 0);

topObj.win1 = [];

topObj.win1 = [update, navSlate2];
setTop(topObj.win1, win1, 6);


topObj.row1 = [];
topObj.row1[0] = navSlate;
setTop(topObj.row1, row1, 0);

topObj.panSlate = [];
topObj.panSlate[0] = navSlate;
topObj.panSlate[1] = row1;
setTop(topObj.panSlate, panSlate, 0);

topObj.underL1 = [pan1, win1];
setTop(topObj.underL1, underL1, 0);

heiObj.panSlate2 = [pan1, win1, underL1];
setHeight(heiObj.panSlate2, panSlate, 1);

heiObj.sp3Bar = [loginbox];
setHeight(heiObj.sp3Bar, sp3Bar, -4);

topObj.stars = [sun];
setTop(topObj.stars, stars, 0);

var update = gui.one('#update');
var moon = gui.one('#moon');

lefObj = [];
lefObj.version = [logo];
setLeft(lefObj.version, version, 4);

heiObj.moon = [navSlate, row1, panSlate];
setHeight(heiObj.moon, moon, 0);

var earth = gui.one('#earth');
var row2 = gui.one('#row2');
var earSlate = gui.one('#earSlate');
var pan2 = gui.one('#pan2');
var panSlate2 = gui.one('#panSlate2');
var win2 = gui.one('#win2');
var underL2 = gui.one('#underL2');

pan2Rem = extension(panSlate2, earSlate, 4);
extender(panSlate2, pan2Rem);

topObj.earth = [moon];
setTop(topObj.earth, earth, 0);

topObj.underL2 = [pan2, win2];
setTop(topObj.underL2, underL2, 0);

heiObj.earSlate = [pan2, win2, underL2];
setHeight(heiObj.earSlate, earSlate, 0);

heiObj.earth = [row1, earSlate];
setHeight(heiObj.earth, earth, 1);

var ozone = gui.one('#ozone');
var endRow =  gui.one('#endRow');
var endSlate = gui.one('#endSlate');
var system = gui.one('#system');

topObj.ozone = [moon, earth];
setTop(topObj.ozone, ozone, 0);

heiObj.ozone = [endRow, endSlate];
setHeight(heiObj.ozone, ozone, 1);

heiObj.system2 = [moon, earth, ozone];
setHeight(heiObj.system2, system2, 0);

heiObj.system = [sun, system2];
setHeight(heiObj.system, system, 0);

heiObj.starBar = [navSlate];
setHeight(heiObj.starBar, starBar, 5);

heiObj.star = [system2];
setHeight(heiObj.star, stars, 0);



input = gui.one('#input');
output = gui.one('#output');
system3 = gui.one('#system3');
items = gui.one('.navbar li');

target = gui.one('#target');
dataType = gui.one('#dataType');

ind1 = gui.one('#ind1');
ind2 = gui.one('#ind2');
ind3 = gui.one('#ind3');
ind4 = gui.one('#ind4');


function listOver(){

this.transition({

easing: 'ease-in-out',
delay: 0.2,
duration: 0.6,
background: '#89C2C2',
color: '#E6E6E6',

});

}

function listOut(){

this.transition({

easing: 'ease-in-out',
delay: 0.1,
duration: 0.4,
background: '#DDEEEE',
color: '#000000',

});

}



function listHoverTrans (setAdd){

hoverList = [input, output, system3, target, dataType, update, agents, cycles, networks, comms, archive, admin];

q = 12;

setNext = setAdd.one('li');

while (setNext != undefined){

hoverList[q] = setNext;
setNext = hoverList[q].next();
q++

}

return hoverList;

}

index = gui.one('#index');
hoverList = listHoverTrans (index);


a = 0;

for(a = 0; a < hoverList.length; a++){

hoverTarget = hoverList[a];

hoverTarget.on('hover', listOver, listOut);

}

function indexOut(){

this.transition({

easing: 'ease-in-out',
delay: 0.2,
duration: 0.6,
width: '150px',

});

}

function indexIn(){

this.transition({

easing: 'ease-in-out',
delay: 0.2,
duration: 0.6,
width: '25px',

});

}

widSpa1 = getWidth(spa1);

if (widSpa1 < 50){

spa1.on('hover', indexOut, indexIn);

}

button1 = gui.one('#button1');

function spa3Trans (){

widStars = getWidth(stars);
rigSpa2 = getRight(spa2);
widSpa3 = getWidth(spa3);

widTrans = widSpa3 + widStars;

if (widSpa3 == rigSpa2){

widTranss = widTrans + 'px';

spa3.transition({

easing: 'ease-in-out',
delay: 0.2,
duration: 0.6,
width: widTranss,

});

}

else {

rigSpaa = rigSpa2 + 'px';

spa3.transition({

easing: 'ease-in-out',
delay: 1.0,
duration: 0.4,
width: rigSpaa,

});

}

}
button1.on('mouseenter', spa3Trans);

});

</script>

</body>

